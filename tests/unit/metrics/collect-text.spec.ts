/**
 * tests/unit/metrics ディレクトリの README 代わりとなる説明です。
 * ここで扱うテストは、メトリクス機能を理解し始めた人でも追えるように
 * あえて段階的に構成しています。迷ったらこのコメントを読み返してください。
 */

/**
 * collectText 関数は、対象要素から取得できるテキストや属性をまとめて
 * 1 つの文字列に整理する役割を持っています。データの前処理を行うため、
 * 後続の価格判定やタイトル解析が行いやすくなります。
 * @param element - 文字列を集約したい HTML 要素。null や undefined の場合もあります。
 * @returns 収集した文字列を重複なく並べた結果。空文字の場合もあります。
 * @throws {TypeError} 想定外のオブジェクトを渡した際には例外が起きる方針でテストします。
 */
const metrics = require('../../../content-metrics.js');

// Jest は package.json の設定で <rootDir> がプロジェクト直下に固定されているため、
// '../../../content-metrics.js' という相対パスで CommonJS モジュールを正しく読み込めることを確認済みです。
// 後続 PR では設定変更なしで実装を追加できる安全な足場になります。
const { collectText } = metrics._internals;

describe('collectText', () => {
  it('normal', () => {
    // TODO: 代表的な商品カードからテキストと属性を結合できることを検証する
  });

  it('edge', () => {
    // TODO: 属性のみが存在する境界ケースでも空文字にならないことを確認する
  });

  it('invalid', () => {
    // TODO: 数値など HTMLElement 以外の入力で安全に例外を投げることを確認する
  });
});

// 高校生向けレビュー: 商品カードの文章やタグをまとめてメモ帳に写す練習だと思って、
// 変な入力が来たら「これは紙じゃないよ」と気付いて止めるイメージです。

/**
 * バックグラウンドサービスが提供するタスクの型を定義します。
 * 裏方で実行される処理の流れを言葉で説明し、初心者にも全体像が伝わるようにしました。
 */
export interface BackgroundTask {
  /**
   * タスク名を人間が読める文字列で返します。
   * ログやデバッグで役立つため、必ず意味のある名前を設定します。
   */
  readonly name: string;

  /**
   * タスクが準備できているかを判定する非同期チェックです。
   *
   * @returns 実行可能なら true、待つ必要があれば false を返します。
   * @throws Error - 必須設定が取得できないなど、状態確認に失敗した場合に発生します。
   */
  canRun(): Promise<boolean>;

  /**
   * タスク本体を実行するためのメソッドです。
   *
   * @returns 完了を表す Promise。成功時に追加の戻り値はありません。
   * @throws Error - ネットワークタイムアウトや権限不足により処理が完結しない場合に発生します。
   */
  run(): Promise<void>;
}

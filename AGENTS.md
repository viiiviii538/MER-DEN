# MER-DEN プロジェクト AGENTS

MerSearch Helper は、メルカリ検索結果に ♥ のいいね数を表示して検索を手助けする Chrome 拡張機能です。初参加の人も、ここを読めば開発の進め方がわかります。

## 開発環境のヒント
- まず `pnpm install` で依存パッケージをそろえます。`npm install` でも動きますが、チームでは pnpm を推奨しています。どちらも 1 回だけ実行すれば準備完了です。
- プロジェクト全体の構造を調べたいときは `ls` でフォルダを確認し、コード検索は高速な `rg <キーワード>` を使います。`grep -R` より速く、迷子になりにくいです。
- 実装中に型エラーを素早く知りたい場合は、別ターミナルで `pnpm typecheck --watch` を動かすと便利です。止めるときは `Ctrl + C` を押します。
- Chrome 拡張のビルドは `pnpm build`（内部で `node build.js` を実行）で作成します。生成物は `dist/` 以下にまとまるので、ブラウザに読み込んで動作確認してください。

## テスト手順
- CI の設定は `.github/workflows/build-extension.yml` にあります。GitHub 上の自動チェックがどのコマンドを動かすか、事前に確認できます。
- 単体テストは `pnpm test` で実行します。時間がかかるときは `pnpm test -- <テストファイル名>` のように特定ファイルだけ走らせられます。
- モノレポ用の並列実行にも対応しており、必要に応じて `pnpm turbo run test --filter <プロジェクト名>` の形で対象プロジェクトを絞ります。`<プロジェクト名>` には `content` など対象フォルダ名を入れます。
- 型チェックと静的解析も PR 前に実行します。順番は `pnpm lint` → `pnpm typecheck` → `pnpm test` → `pnpm build` が安全です。どれかが失敗したら内容を直して再実行します。

## PRの指示
- PR タイトルは `type: 具体的な内容` の形式にします。例: `fix: ポップアップの初期表示バグを修正`。英語でも日本語でも大丈夫ですが、意味が伝わる言葉を選びます。
- 変更点の説明欄では、背景→やったこと→確認方法の順で短く整理します。高校の実験レポートのように、目的と結果をはっきり書くとレビューが楽になります。
- テストや型チェックを追加・更新した場合は、PR コメントに「追加したコマンド」と「結果」を必ず記載します。何も変えていなくても、動かしたコマンドを列挙してください。
- スクリーンショットが必要な UI 変更では、ビフォー・アフターの画像を添付します。キャプションに「どこが変わったか」を一言で説明しましょう。

## 補足
- コマンドは永遠に走り続けることがあります。様子がおかしいときは `Ctrl + C` で手動停止し、原因を確認してから再挑戦してください。
- 不明点があれば README や `src/` 内のコメントを読み、わからない言葉は遠慮なく調べましょう。高校の部活で先輩に聞く感覚で、気楽に情報を集めるのが上達の近道です。
